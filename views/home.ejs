<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home</title>
    <link rel="stylesheet" href="../css/style.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />

    
  </head>
  <body>
    <div class="wrapper">
      <%- include('./partials/header.ejs') %>
      <main>
        <h1>Welcome to our page</h1>
        <ul class="nav nav-tabs" id="myTab" role="tablist">
          <li class="nav-item" role="presentation">
            <button
              class="nav-link active"
              id="product-tab"
              data-bs-toggle="tab"
              data-bs-target="#product"
              type="button"
              role="tab"
              aria-controls="product"
              aria-selected="true"
            >
              Products
            </button>
          </li>
          <li class="nav-item" role="presentation">
            <button
              class="nav-link"
              id="employee-tab"
              data-bs-toggle="tab"
              data-bs-target="#employee"
              type="button"
              role="tab"
              aria-controls="employee"
              aria-selected="false"
            >
              Employees
            </button>
          </li>
          <li class="nav-item" role="presentation">
            <button
              class="nav-link"
              id="customer-tab"
              data-bs-toggle="tab"
              data-bs-target="#customer"
              type="button"
              role="tab"
              aria-controls="customer"
              aria-selected="false"
            >
              Customers
            </button>
          </li>
          <li class="nav-item" role="presentation">
            <button
              class="nav-link"
              id="inventory-tab"
              data-bs-toggle="tab"
              data-bs-target="#inventory"
              type="button"
              role="tab"
              aria-controls="inventory"
              aria-selected="false"
            >
              Inventory
            </button>
          </li>
          <li class="nav-item" role="presentation">
            <button
              class="nav-link"
              id="order-tab"
              data-bs-toggle="tab"
              data-bs-target="#order"
              type="button"
              role="tab"
              aria-controls="order"
              aria-selected="false"
            >
              Orders
            </button>
          </li>
        </ul>
        <div class="tab-content" id="myTabContent">
          <div
            class="tab-pane fade show active"
            id="product"
            role="tabpanel"
            aria-labelledby="product-tab"
          >
          <table class="table table-bordered">
            <caption>List of Products</caption>
            <tr>
                <th>#</th>
                <th>Name</th>
                <th>Category</th>
                <th>Price (CAD)</th>
            </tr>
            <% for(let i=0; i<products.length; i++){ %>
                <tr>
                    <td><%= i+1  %></td>
                    <td><%= products[i].name  %></td>
                    <td><%= products[i].category  %></td>
                    <td><%= products[i].price  %></td>
                </tr>
                <% } %>
        </table>
          </div>
          <div
            class="tab-pane fade"
            id="employee"
            role="tabpanel"
            aria-labelledby="employee-tab"
          >
          <table class="table table-bordered">
            <caption>List of Employees</caption>
            <tr>
                <th>#</th>
                <th>ID</th>
                <th>Type</th>
                <th>First Name</th>
                <th>Middle Name</th>
                <th>Last Name</th>
                <th>Salary</th>
            </tr>
            <% for(let i=0; i<employees.length; i++){ %>
                <tr>
                    <td><%= i+1  %></td>
                    <td><%= employees[i].identification  %></td>
                    <td><%= employees[i].type  %></td>
                    <td><%= employees[i].first_name  %></td>
                    <td><%= employees[i].middle_name  %></td>
                    <td><%= employees[i].last_name  %></td>
                    <td><%= employees[i].salary  %></td>
                </tr>
                <% } %>
        </table>
          </div>
          <div
            class="tab-pane fade"
            id="customer"
            role="tabpanel"
            aria-labelledby="customer-tab"
          >
          <table class="table table-bordered">
            <caption>List of Customers</caption>
            <tr>
                <th>#</th>
                <th>First Name</th>
                <th>Middle Name</th>
                <th>Last Name</th>
                <th>Address</th>
                <th>DOB</th>
                <th>Email</th>
                <th>Phone</th>
            </tr>
            <% for(let i=0; i<customers.length; i++){ %>
                <tr>
                    <td><%= i+1  %></td>
                    <td><%= customers[i].first_name  %></td>
                    <td><%= customers[i].middle_name  %></td>
                    <td><%= customers[i].last_name  %></td>
                    <td><%= customers[i].address.address + ', ' + customers[i].address.city  %></td>
                    <td><%= customers[i].dob  %></td>
                    <td><%= customers[i].email  %></td>
                    <td><%= customers[i].phone  %></td>
                </tr>
                <% } %>
        </table>
          </div>
          <div
            class="tab-pane fade"
            id="inventory"
            role="tabpanel"
            aria-labelledby="inventory-tab"
          >
          <table class="table table-bordered">
            <caption>List of Inventory</caption>
            <tr>
                <th>#</th>
                <th>Product ID</th>
                <th>Quantity</th>
            </tr>
            <% for(let i=0; i<inventory.length; i++){ %>
                <tr>
                    <td><%= i+1  %></td>
                    <td><%= inventory[i].product_id.name  %></td>
                    <td><%= inventory[i].quantity  %></td>
                </tr>
                <% } %>
        </table>
          </div>
          <div
            class="tab-pane fade"
            id="order"
            role="tabpanel"
            aria-labelledby="order-tab"
          >
          <table class="table table-bordered">
            <caption>List of Orders</caption>
            <tr>
                <th>#</th>
                <th>Date</th>
                <th>Customer</th>
                <th>Employee</th>
                <th>Product</th>
                <th>Quantity</th>
                <th>Total Price</th>
                <th>Status</th>
            </tr>
            <% for(let i=0; i<orders.length; i++){ %>
                <tr>
                    <td><%= i+1  %></td>
                    <td><%= orders[i].date  %></td>
                    <td><%= orders[i].customer_id.first_name + " " + orders[i].customer_id.last_name   %></td>
                    <td><%= orders[i].employee_id.first_name + " " + orders[i].employee_id.last_name  %></td>
                    <td><%= orders[i].product_id.name  %></td>
                    <td><%= orders[i].quantity  %></td>
                    <td><%= orders[i].total_price  %></td>
                    <% if(orders[i].status == 1){ %>
                    <td><span class="badge bg-success">Completed</span></td>
                    <% } else { %>
                        <td><span class="badge bg-warning">In Progress</span></td>
                        <% } %>
                </tr>
                <% } %>
        </table>
          </div>
        </div>

        <!-- <table>
                <tr>
                    <th>Tables</th>
                </tr>
                <tr><td>Inventory</td></tr>
                <tr><td>Product</td></tr>
                <tr><td>Order</td></tr>
                <tr><td>Employees</td></tr>
                <tr><td>Customer</td></tr>
            </table> -->
      </main>
      <%- include('./partials/footer.ejs') %>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>

    <script src="../js/changeFontFamilyWebsite.js"></script>
  </body>
</html>
